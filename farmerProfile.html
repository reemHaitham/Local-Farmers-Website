<!DOCTYPE html>
<html lang="en">
<head>
    <title>Farmer Profiles</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
</head>
<body class="bg-light pb-5">
    <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-secondary py-3">
        <div class="container-fluid">
            <div class="d-flex align-items-center">
                <img src="logo.png" alt="Logo" class="me-3 img-fluid" width="50">
                <span class="navbar-brand mb-0 h1 fs-4">Local Farmer</span>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link fs-6 px-3" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link fs-6 px-3" href="aboutUs.html">About Us</a></li>
                    <li class="nav-item"><a class="nav-link fs-6 px-3" href="registration.html">Registration</a></li>
                    <li class="nav-item"><a class="nav-link fs-6 px-3" href="products.html">Products</a></li>
                    <li class="nav-item"><a class="nav-link active fs-6 px-3" href="farmerProfile.html">Farmer Profiles</a></li>
                    <li class="nav-item"><a class="nav-link fs-6 px-3" href="blog.html">Blog</a></li>
                    <li class="nav-item"><a class="nav-link fs-6 px-3" href="dashboard.html">Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link fs-6 px-3" href="questionnaire.html">Questionnaire</a></li>
                    <li class="nav-item"><a class="nav-link fs-6 px-3" href="calculate.html">Calculate</a></li>
                    <li class="nav-item"><a class="nav-link fs-6 px-3" href="funpage.html">Funpage</a></li>
                    <li class="nav-item"><a class="nav-link fs-6 px-3" href="contact.html">Contact Us</a></li>
                </ul>
            </div>
        </div>
    </nav>
  
    <section class="d-flex align-items-center" style="background: url('BGall.png') center/cover no-repeat; height: 400px;">
        <div class="container">
            <h2 class="display-3 text-center text-success fw-bold ">Farmer Profiles</h2>
        </div>
    </section>
    
    <br/>
    <br/>
   
    <h1 class="text-center mb-3 text-warning fs-4">Farmer Profile Information System</h1>
        
    <div class="container mt-3">
        <!-- Form Section -->
        <div class="bg-white p-3 rounded shadow-sm mb-3">
            <h2 class="mb-3 fs-5">Manage Farmers Profile</h2>
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body p-2">
                            <h4 class="card-title text-success fs-5 mb-2">Add New Profile</h4>
                            <form id="addFarmerForm">
                                <div class="mb-2">
                                    <label for="farmerName" class="form-label mb-0 fs-6">Name</label>
                                    <input type="text" class="form-control form-control-sm" id="farmerName" required>
                                </div>
                                <div class="mb-2">
                                    <label for="farmName" class="form-label mb-0 fs-6">Farm Name</label>
                                    <input type="text" class="form-control form-control-sm" id="farmName" required>
                                </div>
                                <div class="mb-2">
                                    <label for="location" class="form-label mb-0 fs-6">Location</label>
                                    <input type="text" class="form-control form-control-sm" id="location" required>
                                </div>
                                <div class="mb-2">
                                    <label for="products" class="form-label mb-0 fs-6">Products</label>
                                    <input type="text" class="form-control form-control-sm" id="products" required>
                                </div>
                                <div class="mb-2">
                                    <label for="method" class="form-label mb-0 fs-6">Method</label>
                                    <input type="text" class="form-control form-control-sm" id="method" required>
                                </div>
                                <button type="submit" class="btn btn-success btn-sm mt-1">Add Profile</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body p-2">
                            <h4 class="card-title text-success fs-5 mb-2">Search Farmers Profiles</h4>
                            <form id="searchFarmerForm">
                                <div class="mb-2">
                                    <label for="searchTerm" class="form-label mb-0 fs-6">Search Term</label>
                                    <input type="text" class="form-control form-control-sm" id="searchTerm" placeholder="Name, Farm, Location, etc.">
                                </div>
                                <button type="submit" class="btn btn-warning btn-sm text-white">Search</button>
                                <button type="button" id="resetSearch" class="btn btn-secondary btn-sm">Reset</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            
        <!-- Profile Cards Display -->
        <h2 class="mt-4 mb-2 fs-5">Farmers Profiles</h2>
        <div id="farmersContainer" class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-2">
            <!-- Farmers will be dynamically added here -->
        </div>
        
        <!-- Hidden Table for Farms Data (required by task) -->
        <div class="d-none">
            <table id="farmsTable">
                <thead>
                    <tr>
                        <th>Farm Name</th>
                        <th>Location</th>
                        <th>Products</th>
                        <th>Method</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Farms will be added dynamically -->
                </tbody>
            </table>
        </div>
        
    <!-- Search Results Section -->
    <div id="searchResults" class="mt-3"></div>
    </div>

    
    <div class="container mt-5 bg-secondary bg-opacity-25">
        <h2 class="text-center mb-4 text-success">Customer Reviews</h2>
        
        <div class="row justify-content-center">
            <div class="col-md-8">
                <form id="reviewForm" class="mb-4">
                    <div class="mb-3">
                        <textarea class="form-control" id="reviewText" rows="3" placeholder="Leave a review..." required></textarea>
                    </div>
                    <div class="mb-3">
                        <input type="text" class="form-control" id="reviewerName" placeholder="Your name" required>
                    </div>
                    <div class="mb-3">
                        <label>Rate your experience:</label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="rating" id="excellent" value="Excellent" checked>
                            <label class="form-check-label" for="excellent">Excellent</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="rating" id="good" value="Good">
                            <label class="form-check-label" for="good">Good</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="rating" id="average" value="Average">
                            <label class="form-check-label" for="average">Average</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="rating" id="poor" value="Poor">
                            <label class="form-check-label" for="poor">Poor</label>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-success">Submit review</button>
                </form>

                <div class="mb-4">
                    <h4 class=" text-success">All Reviews</h4>
                    <table id="reviewsTable" class="table table-striped table-bordered">
                        <thead class="table-warning">
                            <tr>
                                <th>Name</th>
                                <th>Review</th>
                                <th>Rating</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Reviews will be added dynamically -->
                        </tbody>
                    </table>
                </div>

                <div class="mb-4">
                    <h4 class=" text-success">Search Reviews</h4>
                    <div class="input-group mb-3">
                        <input type="text" id="searchInput" class="form-control" placeholder="Search reviews...">
                        <button class="btn btn-success" onclick="searchReviews()">Search</button>
                    </div>
                    <table id="searchResultsTable" class="table table-striped table-bordered">
                        <thead class="table-warning">
                            <tr>
                                <th>Name</th>
                                <th>Review</th>
                                <th>Rating</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Search results will be added dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Part a: Define two object types with construction methods
        function Review(name, text, rating) {
            this.name = name;
            this.text = text;
            this.rating = rating;
            this.date = new Date().toLocaleDateString();
        }

        function SearchResult(name, text, rating) {
            this.name = name;
            this.text = text;
            this.rating = rating;
        }

        // Part b: Maintain collections using arrays
        const reviews = [
            new Review("Zainab Salim", "Amazing produce, always fresh and delivered on time!", "Excellent"),
            new Review("Ali Abdullah", "The eggs from Sunny Acres are the best I've ever had!", "Good"),
            new Review("Kothar Ahmed", "Great experience! Will definitely buy again.", "Excellent")
        ];

        let searchResults = [];

        // Part d: Functions to display information dynamically
        function displayReviews() {
            const tableBody = document.querySelector('#reviewsTable tbody');
            tableBody.innerHTML = '';
            
            reviews.forEach(review => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${review.name}</td>
                    <td>${review.text}</td>
                    <td>${review.rating}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        function displaySearchResults() {
            const tableBody = document.querySelector('#searchResultsTable tbody');
            tableBody.innerHTML = '';
            
            searchResults.forEach(result => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${result.name}</td>
                    <td>${result.text}</td>
                    <td>${result.rating}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Part e: Form handling
        document.getElementById('reviewForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('reviewerName').value;
            const text = document.getElementById('reviewText').value;
            const rating = document.querySelector('input[name="rating"]:checked').value;
            
            // Add new review to array
            reviews.push(new Review(name, text, rating));
            
            // Update the display
            displayReviews();
            
            // Reset the form
            this.reset();
        });

        function searchReviews() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            // Filter reviews
            const filtered = reviews.filter(review => 
                review.name.toLowerCase().includes(searchTerm) || 
                review.text.toLowerCase().includes(searchTerm) ||
                review.rating.toLowerCase().includes(searchTerm)
            );
            
            // Convert to SearchResult objects
            searchResults = filtered.map(review => 
                new SearchResult(review.name, review.text, review.rating)
            );
            
            // Display results
            displaySearchResults();
        }

        // Initial display
        displayReviews();
    </script>
    <br/>

    <!--footer-->
 <footer class="fixed-bottom bg-secondary py-2">
    <div class="text-center">
      <a href="https://github.com/reemHaitham/Local-Farmers-Website.git" >
        <img src="gitIcon.png" alt="github icon" class="me-2"  width="40" height="40">
      </a>
      <a href="mailto:localfarmerweb@gmail.com" >
        <img src="emailIcon.png" alt="github icon" class="me-2" width="40" height="40">
      </a>
    </div>
  </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
